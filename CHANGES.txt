HBase Change Log

Release 0.20.4 - Mon Apr 26 08:39:23 PDT 2010
  INCOMPATIBLE CHANGES
   HBASE-2248  Provide new non-copy mechanism to assure atomic reads in get
               and scan (Ryan Rawson via Stack)
   HBASE-2446  Remove 'indexed' contrib

  BUG FIXES
   HBASE-2173  New idx javadoc not included with the rest
   HBASE-2199  hbase.client.tableindexed.IndexSpecification,
               lines 72-73 should be reversed (Adrian Popescu via Stack)
   HBASE-2202  IdxRegion crash when binary characters
   HBASE-2203  [IHBase] Include only those columns required for indexed scan
   HBASE-2204  [IHBASE] Index expression evaluation should fail with a
               DoNotRetryException in case of an invalid index specification
   HBASE-2205  [IHBASE] Updated Idx pacakge javadocs
   HBASE-2206  [IHBASE] Idx memory allocation fix
   HBASE-2207  [IHBASE] Index partial column values
   HBASE-2227  [IHBASE] Idx Expression functionality is incompatible with
               SingleColumnValueFilter
   HBASE-2167  PE for IHBase
   HBASE-2210  NPE in thrift deleteAll (Igor Ranitovic via Stack)
   HBASE-2230  SingleColumnValueFilter has an ungaurded debug log message
   HBASE-2258  The WhileMatchFilter doesn't delegate the call to filterRow()
   HBASE-2259  StackOverflow in ExplicitColumnTracker when row has many columns
   HBASE-2244  META gets inconsistent in a number of crash scenarios
   HBASE-2284  fsWriteLatency metric may be incorrectly reported
               (Kannan Muthukkaruppan via Stack)
   HBASE-2063  For hfileoutputformat, on timeout/failure/kill clean up
               half-written hfile (Ruslan Salyakhov via Stack)
   HBASE-2288  Shell fails on alter
   HBASE-2293  CME in RegionManager#isMetaServer
   HBASE-2023  Client sync block can cause 1 thread of a multi-threaded client
               to block all others (Karthik Ranganathan via Stack)
   HBASE-2355  Unsynchronized logWriters map is mutated from several threads in
               HLog splitting (Todd Lipcon via Andrew Purtell)
   HBASE-2358  Store doReconstructionLog will fail if oldlogfile.log is
               empty and won't load region (Cosmin Lehene via Stack)
   HBASE-2365  Double-assignment around split
   HBASE-2335  mapred package docs don't say zookeeper jar is a dependent
   HBASE-2417  HCM.locateRootRegion fails hard on "Connection refused"
   HBASE-2346  Usage of FilterList slows down scans
   HBASE-2402  [stargate] set maxVersions on gets
   HBASE-2383  Replace JSON-licensed json dependencies
   HBASE-2439  HBase can get stuck if updates to META are blocked
               (Kannan Muthukkaruppan via Stack)
   HBASE-2451  .META. by-passes cache; BLOCKCACHE=>'false'
   HBASE-2453  Revisit compaction policies after HBASE-2248 commit
               (Jonathan Gray via Stack)
   HBASE-2456  deleteChangedReaderObserver spitting warnings after HBASE-2248 
   HBASE-2458  Client stuck in TreeMap,remove (Todd Lipcon via Stack)
   HBASE-2460  add_table.rb deletes any tables for which the target table
               name is a prefix (Todd Lipcon via Stack)
   HBASE-2457  RS gets stuck compacting region ad infinitum
   HBASE-2448  Scanner threads are interrupted without acquiring lock properly
               (Todd Lipcon via Stack)
   HBASE-2443  IPC client can throw NPE if socket creation fails
               (Todd Lipcon via Stack)
   HBASE-2481  Client is not getting UnknownScannerExceptions; they are being
               eaten (Jean-Daniel Cryans via Stack)
   HBASE-2378  Bulk insert with multiple reducers broken due to improper
               ImmutableBytesWritable comparator
   HBASE-2381  missing copyright headers (Andrew Purtell via Stack)

  IMPROVEMENTS
   HBASE-2180  Bad read performance from synchronizing hfile.fddatainputstream
   HBASE-2185  Add html version of default hbase-site.xml (Kay Kay via Stack)
   HBASE-2189  HCM trashes meta cache even when not needed
   HBASE-2190  HRS should report to master when HMsg are available
   HBASE-2177  Use datestamp timestamping gc logging.
   HBASE-2222  Improve log "Trying to contact region server Some server for
               region, row 'ip_info_100,,1263329969690', but failed after
               11 attempts".
   HBASE-2220  Add a binary comparator that only compares up to the length
               of the supplied byte array (Bruno Dumon via Stack)
   HBASE-2241  Change balancer sloppyness from 0.1 to 0.3
   HBASE-2262  ZKW.ensureExists should check for existence
   HBASE-2174  Stop from resolving HRegionServer addresses to names using DNS on
               every heartbeat (Karthik Ranganathan via Stack)
   HBASE-2087  The wait on compaction because "Too many store files" 
               holds up all flushing
   HBASE-2252  Mapping a very big table kills region servers
   HBASE-2277  Update branch to hadoop 0.20.2
   HBASE-2419  Remove from RS logs the fat NotServingRegionException stack
   HBASE-2415  Disable META splitting in 0.20 (Todd Lipcon via Stack)
   HBASE-2360  Make sure we have all the hadoop fixes in our our copy of its rpc
               (Todd Lipcon via Stack)
   HBASE-2423  Update 'Getting Started' for 0.20.4 including making 
               "important configurations more visiable"
   HBASE-2412  [stargate] PerformanceEvaluation
   HBASE-2440  Master UI should check against known bad JDK versions and warn
               the use (Todd Lipcon via Stack)
   HBASE-1892  [performance] make hbase splits run faster
   HBASE-2474  Bug in 2248 - mixed version reads (not allowed by spec)

  NEW FEATURES
   HBASE-2257  [stargate] multiuser mode
   HBASE-2263  [stargate] multiuser mode: authenticator for zookeeper
   HBASE-2273  [stargate] export metrics via Hadoop metrics, JMX, and zookeeper
   HBASE-2274  [stargate] filter support: JSON descriptors
   HBASE-2319  [stargate] multiuser mode: request shaping
   HBASE-2403  [stargate] client HTable interface to REST connector

